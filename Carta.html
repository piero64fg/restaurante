<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta - Restaurante San Isidro</title>
    <link rel="stylesheet" href="style_carta.css">
</head>
<body>
    <header>
        <img src="img/logo.png" alt="Logo" class="logo">
    </header>
    <nav>
        <a href="index.html" >Inicio</a>
        <a href="Carta.html" class="activo">Carta</a>
        <a href="reservaciones.html">Reservaciones</a>
        <a href="Calificación.html">Reseñas</a>
        <a href="eventos.html">Eventos</a>
    </nav>
        <nav class="cartanavegador">
            <a href="#entradas">Entradas</a>
            <a href="#sopas">Sopas</a>
            <a href="#pollos">Pollos</a>
            <a href="#carnes">Carnes</a>
            <a href="#postres">Postres</a>
            <a href="#bebidas">Bebidas</a>
            <a href="#cocteles">Cócteles</a>
        </nav>
    </header>
    <!-- Contenido del menú -->
    <div class="menu-container">
        <!-- Entradas -->
        <h2 id="entradas">ENTRADAS</h2>
        <div class="menu-grid">
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Ensalada mixta con palta" data-price="24.00">+</button>
                </div>
                <img src="carta/ensaladapaltamixta.jpg" alt="Ensalada mixta con palta">
                <div>
                    <h3>Ensalada mixta con palta</h3>
                    <p>S/. 24.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Ensalada Mixta" data-price="21.00">+</button>
                </div>
                <img src="carta/ensaladamixta.jpeg" alt="Ensalada mixta">
                <div>
                    <h3>Ensalada mixta</h3>
                    <p>S/. 21.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Palta a la reina" data-price="24.00">+</button>
                </div>
                <img src="carta/paltalareina.jpg" alt="Palta a la reina">
                <div>
                    <h3>Palta a la reina</h3>
                    <p>S/. 24.00</p>
                </div>
            </div>
        </div>

        <!-- Sopas -->
        <h2 id="sopas">SOPAS</h2>
        <div class="menu-grid">
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Caldito de huevo" data-price="22.00">+</button>
                </div>
                <img src="carta/calditodehuevo.jpg" alt="Caldito de huevo">
                <div>
                    <h3>Caldito de huevo</h3>
                    <p>S/. 22.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Sopa de pollo" data-price="22.00">+</button>
                </div>
                <img src="carta/sopapollo.jpg" alt="Sopa de pollo">
                <div>
                    <h3>Sopa de pollo</h3>
                    <p>S/. 22.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Sopa a la criolla" data-price="22.00">+</button>
                </div>
                <img src="carta/sopalacrioola.jpeg" alt="Sopa a la criolla">
                <div>
                    <h3>Sopa a la criolla</h3>
                    <p>S/. 22.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Sustancia de res" data-price="22.00">+</button>
                </div>
                <img src="carta/sustancciares.jpg" alt="Sustancia de res">
                <div>
                    <h3>Sustancia de res</h3>
                    <p>S/. 22.00</p>
                </div>
            </div>
        </div>

        <!-- Pollos -->
        <h2 id="pollos">POLLOS</h2>
        <div class="menu-grid">
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Pollo a la brasa con pappitas fritas" data-price="75.00">+</button>
                </div>
                <img src="carta/1polloalabrasa.jpg" alt="1 Pollo a la brasa con papitas fritas">
                <div>
                    <h3>1 Pollo a la brasa con papitas fritas</h3>
                    <p>S/. 75.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1/2 Pollo a la brasa con papas fritas" data-price="38.00">+</button>
                </div>
                <img src="carta/12pollobrasa.jpeg" alt="1/2 Pollo a la brasa con papas fritas">
                <div>
                    <h3>1/2 Pollo a la brasa con papas fritas</h3>
                    <p>S/. 38.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1/4 Pollo a la brasa con papas fritas" data-price="24.00">+</button>
                </div>
                <img src="carta/14 polloalabrasa.jpeg" alt="1/4 Polo a la brasa con papas fritas">
                <div>
                    <h3>1/4 Polo a la brasa con papas fritas</h3>
                    <p>S/. 24.00</p>
                </div>
            </div>
            <div class="menu-item">
                <div class="add-to-cart-btn">
                    <button class="add-to-cart" data-name="1 Chicharron de Pollo con papas" data-price="54.60">+</button>
                </div>
                <img src="carta/chicharronpollo.jpeg" alt="1 Chicharron de Pollo con papas">
                <div>
                    <h3>1 Chicharron de Pollo con papas</h3>
                    <p>S/. 54.60</p>
                </div>
            </div>
        
        </div>
        <!-- Continua agregando items en el mismo formato para el resto de las categorías... -->

    </div>
    <button id="cart-toggle">Carrito</button>
<div class="cart-window">
    <h2>Carrito de compras</h2>
    <ul id="cart-items"></ul>
    <p class="total">Total: S/. <span id="cart-total">0.00</span></p>
    <button id="checkout">Finalizar compra</button>
</div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const cart = [];
    const cartWindow = document.querySelector('.cart-window');
    const cartToggle = document.getElementById('cart-toggle');
    
    // Función para abrir y cerrar la ventana del carrito
    const toggleCartWindow = () => {
        if (cartWindow.style.display === 'block') {
            cartWindow.style.display = 'none';
        } else {
            cartWindow.style.display = 'block';
        }
    };

    // Evento para abrir y cerrar la ventana del carrito al hacer clic en el botón
    cartToggle.addEventListener('click', toggleCartWindow);

    // Función para actualizar el contenido del carrito
    // Función para actualizar el contenido del carrito
    const updateCart = () => {
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    cartItems.innerHTML = '';
    let total = 0;
    cart.forEach(item => {
        const li = document.createElement('li');
        const quantityText = item.quantity > 1 ? ` x${item.quantity}` : '';
        const price = parseFloat(item.price) * item.quantity;
        li.innerHTML = `
            <span>${item.name} - S/. ${price.toFixed(2)}</span>
            <div class="quantity-controls">
                <button class="quantity-control-btn subtract" data-name="${item.name}">-</button>
                <span class="quantity">${item.quantity}</span>
                <button class="quantity-control-btn add" data-name="${item.name}">+</button>
            </div>
        `;
        cartItems.appendChild(li);
        total += price;
    });
    cartTotal.textContent = total.toFixed(2);

    // Manejar eventos de clic para los botones de suma y resta
    cartItems.querySelectorAll('.quantity-control-btn').forEach(button => {
        button.addEventListener('click', () => {
            const name = button.getAttribute('data-name');
            const operation = button.classList.contains('add') ? 'add' : 'subtract';
            const item = cart.find(item => item.name === name);
            if (item) {
                if (operation === 'add') {
                    item.quantity++;
                } else {
                    if (item.quantity > 1) {
                        item.quantity--;
                    } else {
                        // Eliminar el artículo del carrito si la cantidad es 1
                        const index = cart.indexOf(item);
                        if (index !== -1) {
                            cart.splice(index, 1);
                        }
                    }
                }
            }
            updateCart();
        });
    });
};

    // Evento para añadir elementos al carrito
    document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', () => {
            const name = button.getAttribute('data-name');
            const price = button.getAttribute('data-price');
            const existingItem = cart.find(item => item.name === name);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ name, price, quantity: 1 });
            }
            updateCart();
            cartWindow.style.display = 'block';
        });
    });

    // Evento para finalizar la compra
    document.getElementById('checkout').addEventListener('click', () => {
        fetch('Carta.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(cart)
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                alert('Compra finalizada!');
                cart.length = 0;
                updateCart();
                cartWindow.style.display = 'none';
            } else {
                alert('Ocurrió un error, por favor intente de nuevo.');
            }
        });
    });
});

    </script>
</body>
<footer>
    <!-- Pie de página -->
    <div class="footer">
        <div class="footer-contenedor"></div>
        <!-- Logo en el pie de página -->
        <img src="img/logo.png" alt="Logo" class="log">  
            <div class="footer-row">          
            <!-- Información de contacto -->
                <div class="links-footer">
                    <h3>Contactanos</h3>
                        <a href="https://www.facebook.com/RestauranteSanIsidroIca">Facebook</a><br>
                        <a href="https://wa.link/cfx17w">WhatsApp</a><br>
                </div>

                <div class="links-footer">
                    <h3>Nosotros</h3>
                        <a href="https://www.facebook.com/RestauranteSanIsidroIca">Mision</a><br>
                        <a href="https://wa.link/cfx17w">Vision</a><br>
                        <a href="https://wa.link/cfx17w">Politica de privacidad</a><br>
                        <a href="https://wa.link/cfx17w">Recursos</a><br>
                   
                </div>
             <!-- Horarios de atención -->
                <div class="links-footer">
                    <h3>Atención:</h3>
                    <p>Lunes-Sabado: 10:00 am - 11:00 pm</p>
                    <p>Domingo: 10:00 am - 9:00 pm</p>
                </div>
            </div>
        </div>
    </div>
</footer>
</html>